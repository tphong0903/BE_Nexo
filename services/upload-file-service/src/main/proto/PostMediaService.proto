syntax = "proto3";

option java_package = "org.nexo.uploadfile.grpc";
option java_outer_classname = "PostMediaServiceProto";

service PostMediaGrpcService {
  rpc SavePostMedias(PostMediaListRequest) returns (PostMediaResponse);
  rpc SaveReelMedias(ReelDto) returns (PostMediaResponse);
  rpc SaveStoryMedias(StoryDto) returns (PostMediaResponse);
  rpc findPostMediasOfPost(PostId) returns (PostMediaListRequest);
  rpc deletePostMedia(PostId) returns (PostMediaResponse);
}

message PostMediaRequestDTO {
  int64 postMediaId = 1;
  int64 postID = 2;
  int32 mediaOrder = 3;
  string mediaUrl = 4;
  string mediaType = 5;
}

message PostMediaListRequest {
  repeated PostMediaRequestDTO posts = 1;
}

message PostMediaResponse {
  bool success = 1;
  string message = 2;
}

message PostId {
  int64 postId = 1;
}

message ReelDto{
  int64 postId = 1;
  string mediaUrl = 2;
}

message StoryDto{
  int64 storyId = 1;
  string mediaUrl = 2;
  string mediaType = 3;
}